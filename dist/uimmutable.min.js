"use strict";var _extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};rey.component("uim.Button",["React","Immutable","classNames",function(a,b,c){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),htmlType:b.get("htmlType"),disabled:b.get("disabled"),className:b.get("className")}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,disabled:a.PropTypes.bool.isRequired,htmlType:a.PropTypes.string.isRequired,onClick:a.PropTypes.func,className:a.PropTypes.string},getDefaultProps:function(){return{path:b.List(),htmlType:"button",disabled:!1}},handleClick:function(a){this.props.onClick&&this.props.onClick({name:this.props.name,path:this.props.path,event:a})},render:function(){var b={button:!0};return b[this.props.className]=!!this.props.className,a.createElement("button",{"data-button-name":this.props.name,type:this.props.htmlType,disabled:this.props.disabled,className:c(b),onClick:this.handleClick},this.props.label)}}}]),rey.component("uim.ButtonGroup",["React","Immutable","classNames","uim.Button",function(a,b,c,d){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),buttons:b.get("buttons"),className:b.get("className"),value:c.getIn(a)}}},propTypes:{path:a.PropTypes.List.isRequired,buttons:a.PropTypes.List.isRequired,onClick:a.PropTypes.func.isRequired,className:a.PropTypes.string},handleClick:function(a,b){this.props.onClick&&(b.button=a,this.props.onClick(b))},renderButton:function(b,c){var e=d.pickProps(this.props.path,b);return a.createElement(d,_extends({key:c},e,{onClick:this.handleClick.bind(this,b)}))},render:function(){var b={};return b["button-group"]=!0,b[this.props.className]=!!this.props.className,a.createElement("div",{"data-field-name":this.props.name,className:c(b)},this.props.buttons.map(this.renderButton))}}}]),rey.component("uim.CheckGroup",["React","Immutable","classNames","uim.Button","uim.Field",function(a,b,c,d,e){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),checkboxes:b.get("checkboxes"),className:b.get("className"),value:c.getIn(a)}}},propTypes:{path:a.PropTypes.List.isRequired,label:a.PropTypes.string,input:a.PropTypes.bool.isRequired,checkboxes:a.PropTypes.List.isRequired,values:a.PropTypes.Map.isRequired,onChange:a.PropTypes.func.isRequired,className:a.PropTypes.string},renderCheckbox:function(b,c){var d=b.get("name")||c,e=b.get("label")||d,f=this.props.path.push(d);return a.createElement(Checkbox,{ref:d,key:c,path:f,name:d,label:e,checked:!!this.props.values.getIn(f),disabled:b.get("disabled"),onChange:this.props.onChange})},render:function(){var b={};return b["check-group"]=!0,b[this.props.className]=!!this.props.className,a.createElement(e,{ref:"field",name:this.props.name,label:this.props.label,className:c(b)},this.props.checkboxes.map(this.renderCheckbox))}}}]),rey.component("uim.Checkbox",["React","Immutable","classNames",function(a,b,c){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),className:b.get("className"),disabled:b.get("disabled"),value:b.get("value"),checked:!!c.getIn(a)}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,checked:a.PropTypes.bool.isRequired,onClick:a.PropTypes.func.isRequired,onChange:a.PropTypes.func.isRequired,value:a.PropTypes.any,disabled:a.PropTypes.bool,className:a.PropTypes.string},handleClick:function(a){this.props.onClick&&this.props.onClick({name:this.props.name,path:this.props.path,value:this.refs.input.checked,event:a})},handleChange:function(a){this.props.onChange&&this.props.onChange({name:this.props.name,path:this.props.path,value:this.refs.input.checked,event:a})},render:function(){var b={checkbox:!0,disabled:this.props.disabled};return b[this.props.className]=!!this.props.className,a.createElement("label",{className:c(b)},a.createElement("input",{ref:"input",type:"checkbox",name:this.props.name,checked:this.props.checked,disabled:this.props.disabled,value:this.props.value,onClick:this.handleClick,onChange:this.handleChange}),a.createElement("span",null,this.props.label))}}}]),rey.component("uim.DateField",["React","Immutable","classNames","uim.Value","uim.Field",function(a,b,c,d,e){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),className:b.get("className"),value:c.getIn(a)}}},propTypes:{path:a.PropTypes.List.isRequired,label:a.PropTypes.string.isRequired,input:a.PropTypes.bool.isRequired,value:a.PropTypes.any,onChange:a.PropTypes.func,className:a.PropTypes.string},handleChange:function(a){this.props.onChange&&this.props.onChange({name:this.props.name,path:this.props.path,value:this.refs.input.value,event:a})},render:function(){var b={};b["date-field"]=!0,b[this.props.className]=!!this.props.className;var f;return f=this.props.input?a.createElement("input",{ref:"input",type:"date",value:this.props.value,onChange:this.handleChange}):a.createElement(d,{className:"date-value",path:this.props.path,name:this.props.name,value:this.props.value,format:"date"}),a.createElement(e,{ref:"field",className:c(b),name:this.props.name,label:this.props.label},f)}}}]),rey.component("uim.Failure",["React","Immutable","classNames","uim.Icon",function(a,b,c,d){return{propTypes:{label:a.PropTypes.string.isRequired,message:a.PropTypes.string,buttonLabel:a.PropTypes.string.isRequired,onClose:a.PropTypes.func.isRequired},getDefaultProps:function(){return{buttonLabel:"OK"}},render:function(){return a.createElement("div",{className:"dialog failure"},a.createElement("header",null,a.createElement(d,{name:"exclamation-circle"}),a.createElement("h2",null,this.props.label)),this.props.message?a.createElement("p",null,this.props.message):void 0,a.createElement("footer",null,a.createElement("button",{type:"button",onClick:this.props.onClose},this.props.buttonLabel)))}}}]),rey.component("uim.Field",["React","Immutable","classNames",function(a,b,c){return{propTypes:{name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,className:a.PropTypes.string},render:function(){var b={field:!0};return b[this.props.className]=!!this.props.className,a.createElement("div",{"data-field-name":this.props.name,className:c(b)},a.createElement("label",null,this.props.label),this.props.children)}}}]),rey.component("uim.FieldGroup",["React","Immutable","classNames","uim.IconButton",function(a,b,c,d){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),fields:b.get("fields"),className:b.get("className"),multiple:b.get("multiple"),values:c}}},propTypes:{path:a.PropTypes.List.isRequired,input:a.PropTypes.bool.isRequired,fields:a.PropTypes.List.isRequired,values:a.PropTypes.Map.isRequired,collapsed:a.PropTypes.bool.isRequired,multiple:a.PropTypes.bool.isRequired,className:a.PropTypes.string,onClick:a.PropTypes.func,onChange:a.PropTypes.func},getDefaultProps:function(){return{path:b.List(),input:!0,collapsed:!1,multiple:!1}},onClickAddEntry:function(a){if(this.props.onChange){var c=this.props.values.getIn(this.props.path);this.props.onChange({name:this.props.name,path:this.props.path.push(c?c.size:0),value:b.Map(),event:a})}},onClickRemoveEntry:function(a,b){if(this.props.onChange){this.props.values.getIn(this.props.path);this.props.onChange({name:this.props.name,path:this.props.path.push(a),value:null,event:b})}},renderField:function(b,c,d){var e=rey.inject("uim."+c.get("type"));e||console.error(new Error("unknown component type ("+c.get("type")+")")),e.pickProps||console.error(new Error("invalid component type ("+c.get("type")+")"));var f=e.pickProps(b,c,this.props.values);return a.createElement(e,_extends({key:d},f,{input:this.props.input,onClick:this.props.onClick,onChange:this.props.onChange}))},renderEntry:function(b){return a.createElement("div",{key:b,className:"field-group-entry"},this.props.input&&a.createElement("div",{className:"field-group-entry-action"},a.createElement(d,{name:"removeFieldGroupEntry",icon:"trash-o",onClick:this.onClickRemoveEntry.bind(this,b)})),a.createElement("div",{className:"field-group-entry-fields"},this.props.fields.map(function(a,c){return this.renderField(this.props.path.push(b),a,c)},this)))},wrapEntries:function(b){return a.createElement("div",{className:"field-group-entries"},b,a.createElement("div",{className:"field-group-entries-action"},a.createElement(d,{name:"addFieldGroupEntry",icon:"plus",onClick:this.onClickAddEntry})))},renderFields:function(){var a;if(this.props.multiple){var c=[],d=this.props.values.getIn(this.props.path);b.Map.isMap(d)&&d.forEach(function(a,d){b.Map.isMap(a)&&c.push(this.renderEntry(d))},this),c.length||(c=this.renderEntry(0)),a=this.wrapEntries(c)}else a=this.props.fields.map(function(a,b){return this.renderField(this.props.path,a,b)},this);return a},render:function(){var b={"field-group":!0};b["field-group-multiple"]=!!this.props.multiple,b[this.props.className]=!!this.props.className;var d={};return this.props.collapsed&&(d.display="none"),a.createElement("div",{className:c(b),style:d},this.renderFields())}}}]),rey.component("uim.Fieldset",["React","Immutable","classNames","uim.FieldGroup",function(a,b,c,d){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),fields:b.get("fields"),className:b.get("className"),multiple:b.get("multiple"),values:c}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,fields:a.PropTypes.List.isRequired,values:a.PropTypes.Map.isRequired,collapsible:a.PropTypes.bool.isRequired,collapsed:a.PropTypes.bool.isRequired,multiple:a.PropTypes.bool.isRequired,input:a.PropTypes.bool.isRequired,onChange:a.PropTypes.func,className:a.PropTypes.string},getDefaultProps:function(){return{path:b.List(),input:!0,collapsible:!1,collapsed:!1,multiple:!1}},getInitialState:function(){return{collapsed:this.props.collapsed}},handleClickLegend:function(){this.props.collapsible&&this.setState({collapsed:!this.state.collapsed})},render:function(){var b={fieldset:!0};return b[this.props.className]=!!this.props.className,a.createElement("div",{"data-field-name":this.props.name,className:c(b)},a.createElement("fieldset",null,a.createElement("legend",{onClick:this.handleClickLegend},this.props.label),a.createElement(d,{path:this.props.path,fields:this.props.fields,values:this.props.values,input:this.props.input,collapsed:this.state.collapsed,multiple:this.props.multiple,onClick:this.props.onClick,onChange:this.props.onChange})))}}}]),rey.component("uim.Formset",["React","Immutable","classNames","uim.FieldGroup",function(a,b,c,d){return{propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string,fields:a.PropTypes.List.isRequired,values:a.PropTypes.Map.isRequired,input:a.PropTypes.bool.isRequired,collapsible:a.PropTypes.bool.isRequired,onClick:a.PropTypes.func,onChange:a.PropTypes.func,className:a.PropTypes.string},getDefaultProps:function(){return{path:b.List(),input:!0,collapsible:!1}},getInitialState:function(){return{collapsed:!1}},handleClickTitle:function(){this.props.collapsible&&this.setState({collapsed:!this.state.collapsed})},render:function(){var b={formset:!0};b[this.props.className]=!!this.props.className;var e;return this.props.label&&(e=a.createElement("h1",{className:"title",onClick:this.handleClickTitle},a.createElement("span",null,this.props.label))),a.createElement("div",{"data-form-name":this.props.name,className:c(b)},e,a.createElement(d,{path:this.props.path,input:this.props.input,fields:this.props.fields,values:this.props.values,collapsed:this.state.collapsed,onClick:this.props.onClick,onChange:this.props.onChange}))}}}]),rey.component("uim.Icon",["React","Immutable","classNames",function(a,b,c){var d={className:"fa",classNamePrefix:"fa-"};return{statics:{globals:d,pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),icon:b.get("icon"),className:b.get("className")}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,icon:a.PropTypes.string,className:a.PropTypes.string,onClick:a.PropTypes.func},getDefaultProps:function(){return{path:b.List()}},handleClick:function(a){this.props.onClick&&this.props.onClick({name:this.props.name,path:this.props.path,event:a})},render:function(){var b={icon:!0};return b[d.className]=!0,b[this.props.className]=!!this.props.className,this.props.icon?b[d.classNamePrefix+this.props.icon]=!0:this.props.name&&(b[d.classNamePrefix+this.props.name]=!0),a.createElement("span",{className:c(b),onClick:this.handleClick})}}}]),rey.component("uim.IconButton",["React","Immutable","classNames","uim.Icon",function(a,b,c,d){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),icon:b.get("icon"),disabled:b.get("disabled"),className:b.get("className")}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,icon:a.PropTypes.string.isRequired,disabled:a.PropTypes.bool.isRequired,onClick:a.PropTypes.func,className:a.PropTypes.string},getDefaultProps:function(){return{path:b.List(),disabled:!1}},handleClick:function(a){this.props.onClick&&this.props.onClick({name:this.props.name,path:this.props.path,event:a})},render:function(){var b={"icon-button":!0};return b[this.props.className]=!!this.props.className,a.createElement(d,{name:this.props.name,icon:this.props.icon,className:c(b),"data-button-name":this.props.name,disabled:this.props.disabled,onClick:this.handleClick})}}}]),rey.component("uim.Link",["React","Immutable","classNames",function(a,b,c){var d={};return{statics:{globals:d,pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),href:b.get("href"),label:b.get("label"),className:b.get("className")}}},propTypes:{name:a.PropTypes.string,path:a.PropTypes.List.isRequired,href:a.PropTypes.string.isRequired,label:a.PropTypes.string,onClick:a.PropTypes.func,className:a.PropTypes.string},getDefaultProps:function(){return{path:b.List()}},handleClick:function(a){this.props.onClick&&this.props.onClick({name:this.props.name,path:this.props.path,event:a}),d.clickHandler&&d.clickHandler(a,this.props.href)},render:function(){var b={};return b[this.props.className]=!!this.props.className,a.createElement("a",{name:this.props.name,href:this.props.href,className:c(b),onClick:this.handleClick},this.props.label?this.props.label:void 0,this.props.children?this.props.children:void 0)}}}]),rey.component("uim.LinkButton",["React","Immutable","classNames","uim.Link",function(a,b,c,d){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),href:b.get("href"),label:b.get("label"),disabled:b.get("disabled"),className:b.get("className")}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,disabled:a.PropTypes.bool.isRequired,onClick:a.PropTypes.func,className:a.PropTypes.string},getDefaultProps:function(){return{disabled:!1}},handleClick:function(a){this.props.onClick&&this.props.onClick({name:this.props.name,path:this.props.path,event:a})},render:function(){var b={button:!0,"link-button":!0};return b[this.props.className]=!!this.props.className,a.createElement(d,{name:this.props.name,href:this.props.href,label:this.props.label,className:c(b),"data-button-name":this.props.name,disabled:this.props.disabled,onClick:this.handleClick})}}}]),rey.component("uim.LinkGroup",["React","Immutable","classNames","uim.Link","uim.Icon",function(a,b,c,d,e){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),links:b.get("links"),className:b.get("className")}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,links:a.PropTypes.List.isRequired,className:a.PropTypes.string},getDefaultProps:function(){return{path:b.List(),links:b.List()}},renderIcon:function(b){var c;return b.has("icon")&&(c=a.createElement(e,{key:"icon",name:b.get("icon")})),c},renderLink:function(b,c){return a.createElement("li",{key:c},a.createElement(d,{name:b.get("name"),href:b.get("href")},this.renderIcon(b),b.get("label")))},render:function(){var b={"link-group":!0};return b[this.props.className]=!!this.props.className,a.createElement("ul",{className:c(b)},this.props.links.map(this.renderLink))}}}]),rey.component("uim.List",["React","Immutable","classNames","uim.Toolbar","uim.Paginator",function(a,b,c,d,e){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),data:b.get("data"),columns:b.get("columns"),header:b.get("header"),footer:b.get("footer"),empty:b.get("empty"),className:b.get("className")}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,data:a.PropTypes.Map.isRequired,columns:a.PropTypes.List.isRequired,header:a.PropTypes.bool.isRequired,footer:a.PropTypes.any,pageUrl:a.PropTypes.string,empty:a.PropTypes.any,onClick:a.PropTypes.func,onChange:a.PropTypes.func,className:a.PropTypes.string,transformColumnsWith:a.PropTypes.func},getDefaultProps:function(){return{data:b.Map(),path:b.List(),columns:b.List(),header:!0}},handleClick:function(a,b,c){this.props.onClick&&(c.row=a,c.column=b,this.props.onClick(c))},isValidTarget:function(a){return a.hasAttribute("data-row-index")&&a.hasAttribute("data-column-index")},handleClickBody:function(a){for(var b=a.target;!this.isValidTarget(b)&&(b=b.parentNode,b!==document.body););if(this.isValidTarget(b)){var c=Number(b.getAttribute("data-row-index")),d=Number(b.getAttribute("data-column-index")),e=this.props.data.getIn(["rows",c]),f=e.getIn(["columns",d]);this.props.onClick&&this.props.onClick({name:this.props.name,path:this.props.path,row:e,column:f,event:a})}},handleChange:function(a,b,c){this.props.onChange&&(c.row=a,c.column=b,this.props.onChange(c))},renderHeadCol:function(b,c){return a.createElement("div",{key:c,className:"list-column","data-column-index":c,"data-column-name":b.get("name")},b.get("label"))},renderCol:function(b,c,d,e){var f=rey.inject("uim."+d.get("type"));if(!f)throw new Error("unknown component type ("+d.get("type")+")");if(!f.pickProps)throw new Error("invalid component type ("+d.get("type")+")");var g=f.pickProps(this.props.path,d,b);return a.createElement("div",{key:e,className:"list-column","data-row-index":c,"data-column-index":e,"data-column-name":d.get("name")},a.createElement(f,_extends({},g,{onClick:this.handleClick.bind(this,b,d),onChange:this.handleChange.bind(this,b,d)})))},renderRow:function(b,c){var d=this.props.columns;return this.props.transformColumnsWith&&(d=this.props.transformColumnsWith(d,b)),a.createElement("div",{key:c,className:"list-row","data-row-index":c},d.map(function(a,d){return this.renderCol(b,c,a,d)},this))},getRows:function(){var a=this.props.data.get("rows");return b.List.isList(a)||(a=b.List()),a},countRows:function(){var a=0;if(this.props.data.has("count"))a=this.props.data.get("count");else{var c=this.props.data.get("rows");b.List.isList(c)&&(a=c.size)}return a},renderBody:function(){var b={"list-body":!0,"no-foot":!this.props.footer};return a.createElement("div",{key:"body",className:c(b),onClick:this.handleClickBody},this.getRows().map(this.renderRow))},renderHeader:function(){var c;return this.props.header===!0?c=a.createElement("div",{key:"head",className:"list-head list-row"},this.props.columns.map(this.renderHeadCol)):b.List.isList(this.props.header)?c=a.createElement("div",{key:"head",className:"list-head list-row"},a.createElement(d,{name:"header",path:this.props.path.push("header"),tools:this.props.header,values:this.props.data,onClick:this.props.onClick,onChange:this.props.onChange})):this.props.header&&(c=a.createElement("div",{key:"head",className:"list-head list-row"},this.props.header)),c},renderFooter:function(){var c;return b.List.isList(this.props.footer)?c=a.createElement("div",{key:"foot",className:"list-foot list-row"},a.createElement(d,{name:"footer",path:this.props.path.push("footer"),tools:this.props.footer,values:this.props.data,onClick:this.props.onClick,onChange:this.props.onChange})):this.props.footer&&(c=a.createElement("div",{key:"foot",className:"list-foot list-row"},a.createElement("div",{className:"list-column"},this.props.footer))),c},renderPages:function(){var b;if(this.props.data.has("pages")&&this.props.data.has("page")){var c=this.countRows(),d=c>0?Number(this.props.data.get("page"))||1:0,f=c>0?Number(this.props.data.get("pages"))||1:0;f>1&&(b=a.createElement(e,{key:"pages",page:d,pages:f,pageUrl:this.props.pageUrl}))}return b},render:function(){var b={list:!0};b[this.props.className]=!!this.props.className;var d;return d=this.countRows()>0||!this.props.empty?[this.renderHeader(),this.renderBody(),this.renderFooter(),this.renderPages()]:a.createElement("div",{className:"list-empty"},this.props.empty),a.createElement("div",{"data-list-name":this.props.name,className:c(b)},d)}}}]),rey.component("uim.Loading",["React",function(a){return{render:function(){return a.createElement("div",{className:"loading"},a.createElement("span",{className:"fa fa-spinner fa-spin"}))}}}]),rey.component("uim.MemoField",["React","Immutable","classNames","uim.Value","uim.Field",function(a,b,c,d,e){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),rows:b.get("rows"),cols:b.get("cols"),className:b.get("className"),value:c.getIn(a)}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,input:a.PropTypes.bool.isRequired,rows:a.PropTypes.number,cols:a.PropTypes.number,value:a.PropTypes.any,onChange:a.PropTypes.func,className:a.PropTypes.string},handleChange:function(a){this.props.onChange&&this.props.onChange({name:this.props.name,path:this.props.path,value:this.refs.input.value,event:a})},render:function(){var b={};b["memo-field"]=!0,b[this.props.className]=!!this.props.className;var f;return f=this.props.input?a.createElement("textarea",{ref:"input",rows:this.props.rows,cols:this.props.cols,value:this.props.value,onChange:this.handleChange}):a.createElement(d,{className:"memo-value",path:this.props.path,name:this.props.name,value:this.props.value}),a.createElement(e,{ref:"field",name:this.props.name,label:this.props.label,className:c(b)},f)}}}]),rey.component("uim.Menu",["React","Immutable","classNames","uim.Icon","uim.LinkGroup","uim.IconButton",function(a,b,c,d,e,f){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),icon:b.get("icon"),links:b.get("links"),button:b.get("button"),counter:b.get("counter"),className:b.get("className")}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,icon:a.PropTypes.string.isRequired,links:a.PropTypes.List.isRequired,button:a.PropTypes.bool.isRequired,counter:a.PropTypes.number,className:a.PropTypes.string},getDefaultProps:function(){return{path:b.List(),icon:"bars",button:!1}},getInitialState:function(){return{showMenu:!1}},handleClick:function(){this.setState({showMenu:!this.state.showMenu})},renderIcon:function(){var b;return b=this.props.button?a.createElement(f,{name:this.props.icon,icon:this.props.icon,onClick:this.handleClick}):a.createElement(d,{name:this.props.icon,onClick:this.handleClick})},renderCounter:function(){return this.props.counter?a.createElement("div",{className:"menu-counter",onClick:this.handleClick},this.props.counter):void 0},render:function(){var b={menu:!0,show:this.state.showMenu};return b[this.props.className]=!!this.props.className,a.createElement("div",{className:c(b)},this.renderCounter(),this.renderIcon(),a.createElement(e,{name:this.props.name+"-links",path:this.props.path.push("links"),links:this.props.links,className:"menu-links"}))}}}]),rey.component("uim.Overlay",["React","Immutable","classNames",function(a,b,c){return{render:function(){return a.createElement("div",{className:"overlay"},a.createElement("div",{className:"overlay-container"},this.props.children))}}}]),rey.component("uim.Paginator",["React","Immutable","classNames","uim.Icon","uim.Link",function(a,b,c,d,e){return{propTypes:{page:a.PropTypes.number.isRequired,pages:a.PropTypes.number.isRequired,pageUrl:a.PropTypes.string.isRequired,firstPage:a.PropTypes.number.isRequired,lastPage:a.PropTypes.number.isRequired,onClick:a.PropTypes.func,className:a.PropTypes.string},getDefaultProps:function(){return{firstPage:-5,lastPage:5,page:1,pages:1}},makeUrl:function(a){return this.props.pageUrl.replace(/\{page\}/,a)},renderParts:function(){var b=[],f=this.props.pages,g=this.props.page,h=g>1,i=f>g,j=Math.max(1,g+this.props.firstPage),k=Math.min(f,g+this.props.lastPage);h&&b.push(a.createElement("li",{key:"previous"},a.createElement(e,{href:this.makeUrl(g-1)},a.createElement(d,{name:"previous",icon:"chevron-left"}))));for(var l=j;k>=l;l++)b.push(a.createElement("li",{key:l,className:c({current:g===l})},a.createElement(e,{href:this.makeUrl(l),label:l.toString()})));return i&&b.push(a.createElement("li",{key:"next"},a.createElement(e,{href:this.makeUrl(g+1)},a.createElement(d,{name:"next",icon:"chevron-right"})))),b},render:function(){var b={paginator:!0};return b[this.props.className]=!!this.props.className,a.createElement("div",{className:c(b)},a.createElement("ul",null,this.renderParts()))}}}]),rey.component("uim.PasswordField",["React","Immutable","classNames","uim.Field",function(a,b,c,d){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),className:b.get("className"),empty:!c.getIn(a)}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,empty:a.PropTypes.bool,onChange:a.PropTypes.func,className:a.PropTypes.string},componentDidUpdate:function(){this.props.empty&&(this.refs.input.value="")},handleChange:function(a){this.props.onChange&&this.props.onChange({name:this.props.name,path:this.props.path,value:this.refs.input.value,event:a})},render:function(){var b={};b["password-field"]=!0,b[this.props.className]=!!this.props.className;var e=a.createElement("input",{ref:"input",type:"password",onChange:this.handleChange});return a.createElement(d,{ref:"field",name:this.props.name,label:this.props.label,className:c(b)},e)}}}]),rey.component("uim.Radio",["React","Immutable","classNames",function(a,b,c){return{propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,value:a.PropTypes.any.isRequired,checked:a.PropTypes.bool.isRequired,onChange:a.PropTypes.func.isRequired,disabled:a.PropTypes.bool,className:a.PropTypes.string},handleChange:function(a){this.props.onChange&&this.props.onChange({name:this.props.name,path:this.props.path,value:this.refs.input.value,event:a})},render:function(){var b={radio:!0,disabled:this.props.disabled};return b[this.props.className]=!!this.props.className,a.createElement("label",{className:c(b)},a.createElement("input",{ref:"input",type:"radio",name:this.props.name,value:this.props.value,checked:this.props.checked,disabled:this.props.disabled,onChange:this.handleChange}),a.createElement("span",null,this.props.label))}}}]),rey.component("uim.RadioGroup",["React","Immutable","classNames","uim.Field","uim.Value","uim.Radio",function(a,b,c,d,e,f){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),options:b.get("options"),className:b.get("className"),value:c.getIn(a)}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string,input:a.PropTypes.bool.isRequired,options:a.PropTypes.List.isRequired,value:a.PropTypes.any,onChange:a.PropTypes.func.isRequired,className:a.PropTypes.string},renderRadio:function(b,c){return a.createElement(f,{ref:c,key:c,path:this.props.path,name:this.props.name,label:b.get("label"),value:b.get("value"),checked:this.props.value===b.get("value"),disabled:b.get("disabled"),onChange:this.props.onChange})},getSelectedLabel:function(){var a=this.props.value,b=this.props.options.find(function(b){return b.get("value")===a});return b?b.get("label"):void 0},render:function(){var b={};b["radio-group"]=!0,b[this.props.className]=!!this.props.className;var f;return f=this.props.input?this.props.options.map(this.renderRadio):a.createElement(e,{className:"radio-value",path:this.props.path,name:this.props.name,value:this.getSelectedLabel()}),a.createElement(d,{ref:"field",name:this.props.name,label:this.props.label,className:c(b)},f)}}}]),rey.component("uim.SelectButton",["React","Immutable","classNames","uim.Icon","uim.Value",function(a,b,c,d,e){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,label:b.get("label"),name:b.get("name"),options:b.get("options"),disabled:b.get("disabled"),disabledValues:b.get("disabledValues"),className:b.get("className"),blankValue:b.get("blankValue"),value:c.getIn(a)}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,options:a.PropTypes.List.isRequired,disabled:a.PropTypes.bool.isRequired,disabledValues:a.PropTypes.List,blankValue:a.PropTypes.string,value:a.PropTypes.any,onChange:a.PropTypes.func,className:a.PropTypes.string},getInitialState:function(){return{showOptions:!1}},getDefaultProps:function(){return{path:b.List(),disabled:!1}},handleClickCaret:function(a){a.event.stopPropagation(),this.setState({showOptions:!this.state.showOptions})},handleClickOption:function(a,b){b.stopPropagation(),a.get("disabled")||(this.setState({showOptions:!this.state.showOptions}),this.props.onChange&&this.props.onChange({name:this.props.name,path:this.props.path,value:a.get("value"),option:a,event:b}))},handleClickValue:function(a){this.props.onClick&&this.props.onClick({name:this.props.name,path:this.props.path,value:this.props.value,event:a.event})},renderIcon:function(b){var c;return b.has("icon")&&(c=a.createElement(d,{key:"icon",name:b.get("icon")})),c},renderOption:function(b,d){var e={};e["select-button-option"]=!0,e.disabled=!!b.get("disabled"),e[b.get("className")]=!!b.get("className");var f=this.handleClickOption.bind(this,b);return a.createElement("li",{key:d,className:c(e),onClick:f},this.renderIcon(b),b.get("label"))},isDisabled:function(){return this.props.disabled||(this.props.disabledValues?-1!==this.props.disabledValues.indexOf(this.props.value):!1)},getSelectedOption:function(){if(this.props.value||0===this.props.value){var a,b,c,d=this.props.options.size;for(c=0;d>c;c++)if(b=this.props.options.get(c),b.get("value")===this.props.value){a=b;break}return a}},renderSelectedOption:function(){var b={};b["select-button-value"]=!0;var d,f,g=this.getSelectedOption();return g?(b[g.get("className")]=!!g.get("className"),d=g.get("selectedLabel")||g.get("label"),f=this.renderIcon(g)):this.props.blankValue&&(b["select-button-blank"]=!0,d=this.props.blankValue),a.createElement(e,{onClick:this.handleClickValue,className:c(b),path:this.props.path,name:this.props.name,value:[f,d]})},renderOptions:function(){
return this.isDisabled()?void 0:[a.createElement(d,{key:"icon",name:"caret-down",onClick:this.handleClickCaret}),a.createElement("ul",{key:"list"},this.props.options.map(this.renderOption))]},render:function(){var b={};return b["select-button"]=!0,b["show-options"]=this.state.showOptions,b.disabled=this.isDisabled(),b[this.props.className]=!!this.props.className,a.createElement("button",{"data-button-name":this.props.name,className:c(b),type:"button"},this.renderSelectedOption(),this.renderOptions())}}}]),rey.component("uim.SelectButtonField",["React","Immutable","classNames","uim.SelectButton","uim.Field",function(a,b,c,d,e){return{statics:{pickProps:d.pickProps},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,options:a.PropTypes.List.isRequired,disabled:a.PropTypes.bool.isRequired,disabledValues:a.PropTypes.List,blankValue:a.PropTypes.string,value:a.PropTypes.any,onChange:a.PropTypes.func,className:a.PropTypes.string},getDefaultProps:function(){return{path:b.List(),disabled:!1}},render:function(){var b={};return b["select-button-field"]=!0,b[this.props.className]=!!this.props.className,a.createElement(e,{ref:"field",name:this.props.name,label:this.props.label,className:c(b)},a.createElement(d,this.props))}}}]),rey.component("uim.SelectField",["React","Immutable","classNames","uim.Value","uim.Field",function(a,b,c,d,e){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),options:b.get("options"),className:b.get("className"),value:c.getIn(a)}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,input:a.PropTypes.bool.isRequired,options:a.PropTypes.List.isRequired,value:a.PropTypes.any,onChange:a.PropTypes.func,className:a.PropTypes.string},handleChange:function(a){this.props.onChange&&this.props.onChange({name:this.props.name,path:this.props.path,value:this.refs.input.value,event:a})},renderOption:function(b,c){return a.createElement("option",{key:c,value:b.get("value")},b.get("label"))},getSelectedLabel:function(){var a=this.props.value,b=this.props.options.find(function(b){return b.get("value")===a});return b?b.get("label"):void 0},render:function(){var b={};b["select-field"]=!0,b[this.props.className]=!!this.props.className;var f;return f=this.props.input?a.createElement("select",{ref:"input",value:this.props.value,onChange:this.handleChange},this.props.options.map(this.renderOption)):a.createElement(d,{className:"select-value",path:this.props.path,name:this.props.name,value:this.getSelectedLabel()}),a.createElement(e,{ref:"field",name:this.props.name,label:this.props.label,className:c(b)},f)}}}]),rey.component("uim.Success",["React","Immutable","classNames","uim.Icon",function(a,b,c,d){return{propTypes:{label:a.PropTypes.string.isRequired,message:a.PropTypes.string,buttonLabel:a.PropTypes.string.isRequired,onClose:a.PropTypes.func.isRequired},getDefaultProps:function(){return{buttonLabel:"OK"}},render:function(){return a.createElement("div",{className:"dialog success"},a.createElement("header",null,a.createElement(d,{name:"check-circle-o"}),a.createElement("h2",null,this.props.label)),this.props.message?a.createElement("p",null,this.props.message):void 0,a.createElement("footer",null,a.createElement("button",{type:"button",onClick:this.props.onClose},this.props.buttonLabel)))}}}]),rey.component("uim.TextField",["React","Immutable","classNames","uim.Value","uim.Field",function(a,b,c,d,e){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),className:b.get("className"),options:b.get("options"),value:c.getIn(a)}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,input:a.PropTypes.bool.isRequired,value:a.PropTypes.any,options:a.PropTypes.List,onChange:a.PropTypes.func,className:a.PropTypes.string},handleChange:function(a){this.props.onChange&&this.props.onChange({name:this.props.name,path:this.props.path,value:this.refs.input.value,event:a})},getId:function(){return this.props.path.toJS().join("-")},renderOptions:function(){return this.props.input&&this.props.options?a.createElement("datalist",{id:this.getId()+"-options"},this.props.options.map(function(b,c){return a.createElement("option",{key:c,value:b},b)})):void 0},render:function(){var b={};b["text-field"]=!0,b[this.props.className]=!!this.props.className;var f;return f=this.props.input?a.createElement("input",{ref:"input",type:"text",value:this.props.value,list:this.getId()+"-options",onChange:this.handleChange}):a.createElement(d,{className:"text-value",path:this.props.path,name:this.props.name,value:this.props.value}),a.createElement(e,{ref:"field",name:this.props.name,label:this.props.label,className:c(b)},f,this.renderOptions())}}}]),rey.component("uim.TimeField",["React","Immutable","classNames","uim.Value","uim.Field",function(a,b,c,d,e){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),label:b.get("label"),className:b.get("className"),value:c.getIn(a)}}},propTypes:{path:a.PropTypes.List.isRequired,name:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired,input:a.PropTypes.bool.isRequired,value:a.PropTypes.any,onChange:a.PropTypes.func.isRequired,className:a.PropTypes.string},handleChange:function(a){this.props.onChange&&this.props.onChange({name:this.props.name,path:this.props.path,value:this.refs.input.value,event:a})},render:function(){var b={};b["time-field"]=!0,b[this.props.className]=!!this.props.className;var f;return f=this.props.input?a.createElement("input",{ref:"input",type:"time",value:this.props.value,onChange:this.handleChange}):a.createElement(d,{className:"time-value",path:this.props.path,name:this.props.name,value:this.props.value}),a.createElement(e,{ref:"field",name:this.props.name,label:this.props.label,className:c(b)},f)}}}]),rey.component("uim.Toolbar",["React","Immutable","classNames",function(a,b,c){return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),tools:b.get("tools"),className:b.get("className"),values:c}},formatters:{}},propTypes:{path:a.PropTypes.List.isRequired,values:a.PropTypes.Map.isRequired,tools:a.PropTypes.List,className:a.PropTypes.string,onClick:a.PropTypes.func,onChange:a.PropTypes.func},getDefaultProps:function(){return{path:b.List(),tools:b.List(),values:b.Map()}},renderTool:function(b,c){var d=rey.inject("uim."+b.get("type"));d||console.error(new Error("unknown component type ("+b.get("type")+")")),d.pickProps||console.error(new Error("invalid component type ("+b.get("type")+")"));var e=d.pickProps(this.props.path,b,this.props.values);return a.createElement("div",{key:c,"data-tool-name":b.get("name"),className:"tool"},a.createElement(d,_extends({},e,{onClick:this.props.onClick,onChange:this.props.onChange})))},render:function(){var b={toolbar:!0};return b[this.props.className]=!!this.props.className,a.createElement("div",{"data-toolbar-name":this.props.name,className:c(b)},this.props.tools.map(this.renderTool))}}}]),rey.component("uim.Value",["React","Immutable","classNames",function(a,b,c){var d={};return{statics:{pickProps:function(a,b,c){return a=b.has("path")?b.get("path"):a.push(b.get("name")),{path:a,name:b.get("name"),format:b.get("format"),className:b.get("className"),value:c.getIn(a),texts:b.get("texts")}},formatters:d},propTypes:{path:a.PropTypes.List,name:a.PropTypes.string,value:a.PropTypes.any,texts:a.PropTypes.Map,format:a.PropTypes.string,className:a.PropTypes.string,onClick:a.PropTypes.func},handleClick:function(a){this.props.onClick&&this.props.onClick({name:this.props.name,path:this.props.path,value:this.props.value,event:a})},render:function(){var b={value:!0};b[this.props.className]=!!this.props.className;var e;if(this.props.value||0===this.props.value)if(this.props.format){if(!d[this.props.format])throw new Error("unknown format ("+this.props.format+")");e=d[this.props.format](this.props.value)}else e=this.props.value;else e="-";return this.props.texts&&(e=this.props.texts.get(e)),a.createElement("div",{className:c(b),onClick:this.handleClick},e)}}}]),rey.component("uim.View",["React","Immutable","classNames","CSSTransitionGroup","uim.Loading","uim.Toolbar","uim.Overlay",function(a,b,c,d,e,f,g){return{propTypes:{header:a.PropTypes.any,footer:a.PropTypes.any,overlay:a.PropTypes.any,isLoading:a.PropTypes.bool,className:a.PropTypes.string},renderOverlay:function(){var c=b.List.isList(this.props.overlay)?!!this.props.overlay.size:!!this.props.overlay;return c?a.createElement(g,null,this.props.overlay):void 0},renderHeader:function(){var c;return b.List.isList(this.props.header)?c=a.createElement(f,{name:"header",tools:this.props.header,onClick:this.props.onClick}):this.props.header&&(c=this.props.header),c?a.createElement("header",{className:"header"},a.createElement("div",{className:"header-center"},c)):void 0},renderFooter:function(){var c;return b.List.isList(this.props.footer)?c=a.createElement(f,{name:"footer",tools:this.props.footer,onClick:this.props.onClick}):this.props.footer&&(c=this.props.footer),c?a.createElement("footer",{className:"footer"},a.createElement("div",{className:"footer-center"},c)):void 0},render:function(){var b={view:!0};return b[this.props.className]=!!this.props.className,a.createElement("div",{className:c(b)},this.renderHeader(),a.createElement("main",null,this.props.children,this.props.isLoading?a.createElement(e,null):void 0),this.renderFooter(),a.createElement(d,{transitionName:"overlay",transitionEnterTimeout:400,transitionLeaveTimeout:120},this.renderOverlay()))}}}]);